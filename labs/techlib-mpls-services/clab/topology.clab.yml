---
# --------------------------------------------------------------
# Routing Topo 1
# --------------------------------------------------------------

name: routing-topo-1

prefix: ""

mgmt:
  network: mgmt
  ipv4-subnet: 172.100.100.0/24

topology:

  defaults:
    env:
      INTFTYPE: et

  kinds:
    ceos:
      image: arista/ceos:latest
      env:
        CLAB_MGMT_VRF: MGMT
    linux:
      image: ghcr.io/aristanetworks/aclabs/host-ubuntu:rev1.1

  nodes:

    #########################
    # DC "B" SPINE          #
    #########################

    EOS1:
      kind: ceos
      mgmt-ipv4: 172.100.100.101
      binds:
        - sn/eos1.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/EOS1/startup-config
    EOS2:
      kind: ceos
      mgmt-ipv4: 172.100.100.102
      binds:
        - sn/eos2.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/EOS2/startup-config

    EOS3:
      kind: ceos
      mgmt-ipv4: 172.100.100.103
      binds:
        - sn/eos3.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/EOS3/startup-config

    EOS4:
      kind: ceos
      mgmt-ipv4: 172.100.100.104
      binds:
        - sn/eos4.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/EOS4/startup-config

    EOS5:
      kind: ceos
      mgmt-ipv4: 172.100.100.105
      binds:
        - sn/eos5.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/EOS5/startup-config

    EOS6:
      kind: ceos
      mgmt-ipv4: 172.100.100.106
      binds:
        - sn/eos6.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/EOS6/startup-config

    EOS7:
      kind: ceos
      mgmt-ipv4: 172.100.100.107
      binds:
        - sn/eos7.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/EOS7/startup-config

    EOS8:
      kind: ceos
      mgmt-ipv4: 172.100.100.108
      binds:
        - sn/eos8.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/EOS8/startup-config

    Host1:
      kind: linux
      mgmt-ipv4: 172.100.100.201
      env:
        IPV4: 10.10.10.101/24
        STATIC_ROUTE: 10.0.0.0/8
        GW: 10.10.10.1
        IPV6: 2001:db8:10:10::101/64
      image: ghcr.io/aristanetworks/aclabs/host-ubuntu:rev1.1

    Host2:
      kind: linux
      mgmt-ipv4: 172.100.100.202
      env:
        IPV4: 10.20.20.101/24
        STATIC_ROUTE: 10.0.0.0/8
        GW: 10.20.20.1
        IPV6: 2001:db8:20:20::101/64
      image: ghcr.io/aristanetworks/aclabs/host-ubuntu:rev1.1

  links:
    - endpoints: [ EOS1:et2, EOS2:et2 ]
    - endpoints: [ EOS1:et1, EOS3:et1 ]
    - endpoints: [ EOS1:et4, EOS7:et1 ]
    - endpoints: [ EOS1:et3, EOS4:et3 ]
    - endpoints: [ EOS2:et1, EOS4:et1 ]
    - endpoints: [ EOS2:et3, EOS3:et3 ]
    - endpoints: [ EOS2:et4, EOS7:et2 ]
    - endpoints: [ EOS3:et2, EOS5:et1 ]
    - endpoints: [ EOS3:et4, EOS6:et3 ]
    - endpoints: [ EOS4:et2, EOS6:et1 ]
    - endpoints: [ EOS4:et4, EOS5:et3 ]
    - endpoints: [ EOS5:et2, EOS6:et2 ]
    - endpoints: [ EOS5:et4, EOS8:et1 ]
    - endpoints: [ EOS6:et4, EOS8:et2 ]
    - endpoints: [ Host1:eth1, EOS7:et3 ]
    - endpoints: [ Host2:eth1, EOS8:et3 ]
